import { City, CityHelper } from '../models/City';
import { CityService } from '../services/CityService';
import { AppColors } from '../common/constants/AppColors';
import { RouteConstants } from '../common/constants/RouteConstants';
import { router } from '@kit.ArkUI';
import { hilog } from '@kit.PerformanceAnalysisKit';

const TAG = 'CityDetailPage';
const DOMAIN = 0x0001;

/**
 * åŸå¸‚è¯¦æƒ…é¡µ - å¯¹åº” Flutter ç«¯ CityDetailPage
 * NestedScrollView + TabBar æ¶æ„
 */
@Entry
@Component
struct CityDetailPage {
  @State city: City | null = null;
  @State isLoading: boolean = true;
  @State hasError: boolean = false;
  @State errorMsg: string = '';
  @State currentTabIndex: number = 0;
  @State isFavorited: boolean = false;
  @State isFavoriteLoading: boolean = false;
  @State shareUrl: string = '';
  @State shareDescription: string = '';

  private cityId: string = '';
  private cityName: string = '';
  private tabTitles: string[] = ['è¯„åˆ†', 'æŒ‡å—', 'ä¼˜ç¼ºç‚¹', 'è¯„ä»·', 'è´¹ç”¨', 'å¤©æ°”', 'ç…§ç‰‡', 'é™„è¿‘'];

  aboutToAppear(): void {
    const params = router.getParams() as Record<string, string>;
    if (params) {
      this.cityId = params['cityId'] ?? '';
      this.cityName = params['cityName'] ?? '';
    }
    this.loadCityDetail();
    this.checkFavoriteStatus();
  }

  private buildShareContent(city: City): void {
    const title = city.country ? `${city.name}, ${city.country} - Go Nomads` : `${city.name} - Go Nomads`;
    const descParts: string[] = [];

    if (city.overallScore && city.overallScore > 0) {
      descParts.push(`â­ ç»¼åˆè¯„åˆ†: ${city.overallScore.toFixed(1)}/5.0`);
    }
    if (city.temperature !== undefined && city.temperature !== null) {
      descParts.push(`ğŸŒ¡ï¸ ${city.temperature}Â°C`);
    }
    if (city.population) {
      descParts.push(`ğŸ‘¥ äººå£: ${city.population}`);
    }
    if (city.averageCost !== undefined && city.averageCost !== null && city.averageCost > 0) {
      descParts.push(`ğŸ’° æœˆå‡æ¶ˆè´¹: $${city.averageCost}`);
    }
    if (city.safetyScore && city.safetyScore > 0) {
      descParts.push(`ğŸ›¡ï¸ å®‰å…¨: ${city.safetyScore.toFixed(1)}/5.0`);
    }
    if (city.internetScore && city.internetScore > 0) {
      descParts.push(`ğŸ“¶ ç½‘é€Ÿ: ${city.internetScore.toFixed(1)}/5.0`);
    }
    if (city.description) {
      descParts.push(`\n${city.description}`);
    }

    this.shareUrl = `https://nomadcities.app/cities/${city.id}`;
    this.shareDescription = `${title}\n${descParts.join('\n')}`;
  }

  private async copyShareLink(): Promise<void> {
    if (!this.city) {
      return;
    }
    this.buildShareContent(this.city);
    hilog.info(DOMAIN, TAG, 'âœ… åˆ†äº«é“¾æ¥å·²å‡†å¤‡: %{public}s', this.shareUrl);
  }

  async loadCityDetail(): Promise<void> {
    this.isLoading = true;
    this.hasError = false;
    try {
      const cityService = CityService.getInstance();
      const city = await cityService.getCityById(this.cityId);
      this.city = city;
      hilog.info(DOMAIN, TAG, 'âœ… åŸå¸‚è¯¦æƒ…åŠ è½½: %{public}s', city.name);
    } catch (err) {
      this.hasError = true;
      this.errorMsg = (err instanceof Error) ? err.message : 'åŠ è½½å¤±è´¥';
      hilog.error(DOMAIN, TAG, 'âŒ åŠ è½½åŸå¸‚è¯¦æƒ…å¤±è´¥: %{public}s', this.errorMsg);
    } finally {
      this.isLoading = false;
    }
  }

  async checkFavoriteStatus(): Promise<void> {
    try {
      const cityService = CityService.getInstance();
      this.isFavorited = await cityService.isCityFavorited(this.cityId);
    } catch (err) {
      hilog.warn(DOMAIN, TAG, 'âš ï¸ æ£€æŸ¥æ”¶è—çŠ¶æ€å¤±è´¥');
    }
  }

  async toggleFavorite(): Promise<void> {
    if (this.isFavoriteLoading) {
      return;
    }
    this.isFavoriteLoading = true;
    try {
      const cityService = CityService.getInstance();
      if (this.isFavorited) {
        await cityService.unfavoriteCity(this.cityId);
        this.isFavorited = false;
      } else {
        await cityService.favoriteCity(this.cityId);
        this.isFavorited = true;
      }
    } catch (err) {
      hilog.error(DOMAIN, TAG, 'âŒ åˆ‡æ¢æ”¶è—å¤±è´¥: %{public}s', (err as Error).message);
    } finally {
      this.isFavoriteLoading = false;
    }
  }

  build() {
    Column() {
      // è‡ªå®šä¹‰é¡¶éƒ¨å¯¼èˆªæ 
      this.TopBar()

      if (this.isLoading) {
        Column() {
          LoadingProgress().width(40).height(40)
          Text('åŠ è½½ä¸­...')
            .fontSize(14)
            .fontColor(AppColors.TEXT_TERTIARY)
            .margin({ top: 12 })
        }
        .width('100%')
        .layoutWeight(1)
        .justifyContent(FlexAlign.Center)
      } else if (this.hasError) {
        Column({ space: 12 }) {
          Text('ğŸ˜').fontSize(48)
          Text('åŠ è½½å¤±è´¥').fontSize(16).fontColor(AppColors.TEXT_SECONDARY)
          Text(this.errorMsg).fontSize(13).fontColor(AppColors.TEXT_TERTIARY)
          Button('é‡è¯•')
            .height(36)
            .fontSize(14)
            .borderRadius(18)
            .backgroundColor(AppColors.PRIMARY)
            .fontColor('#FFFFFF')
            .onClick(async () => {
              await this.loadCityDetail();
            })
        }
        .width('100%')
        .layoutWeight(1)
        .justifyContent(FlexAlign.Center)
      } else if (this.city) {
        Scroll() {
          Column() {
            // åŸå¸‚å›¾ç‰‡ + åŸºç¡€ä¿¡æ¯
            this.CityHeroSection()

            // æ‘˜è¦å¡ç‰‡
            this.SummaryCard()

            // AI æ—…è¡Œè®¡åˆ’å…¥å£
            this.AiTravelPlanEntry()

            // Tab æ 
            this.TabSection()

            // Tab å†…å®¹
            this.TabContent()

            Column().height(80)
          }
        }
        .layoutWeight(1)
        .scrollBar(BarState.Off)
        .edgeEffect(EdgeEffect.Spring)
      }
    }
    .width('100%')
    .height('100%')
    .backgroundColor(AppColors.BACKGROUND)
  }

  // ============================================================
  // é¡¶éƒ¨å¯¼èˆª
  // ============================================================
  @Builder
  TopBar() {
    Row() {
      SymbolGlyph($r('sys.symbol.arrow_left'))
        .fontSize(24)
        .fontColor([AppColors.TEXT_PRIMARY])
        .onClick(() => {
          router.back();
        })

      Text(this.cityName || this.city?.name || 'åŸå¸‚è¯¦æƒ…')
        .fontSize(18)
        .fontWeight(FontWeight.Medium)
        .fontColor(AppColors.TEXT_PRIMARY)
        .layoutWeight(1)
        .textAlign(TextAlign.Center)

      SymbolGlyph($r('sys.symbol.share'))
        .fontSize(22)
        .fontColor([AppColors.TEXT_PRIMARY])
        .onClick(async () => {
          await this.copyShareLink();
        })

      Text(this.isFavorited ? 'â¤ï¸' : 'ğŸ¤')
        .fontSize(22)
        .margin({ left: 12 })
        .onClick(async () => {
          await this.toggleFavorite();
        })
    }
    .width('100%')
    .height(56)
    .padding({ left: 16, right: 16 })
    .backgroundColor(AppColors.CARD_BACKGROUND)
  }

  // ============================================================
  // Hero åŒºåŸŸ - åŸå¸‚å›¾ç‰‡ + è¯„åˆ†
  // ============================================================
  @Builder
  CityHeroSection() {
    Stack() {
      Image(CityHelper.landscapeImageUrl(this.city!) || $r('app.media.startIcon'))
        .width('100%')
        .height(220)
        .objectFit(ImageFit.Cover)

      // åº•éƒ¨æ¸å˜é®ç½©
      Column() {
        Blank()
        Row() {
          Column({ space: 4 }) {
            Text(CityHelper.displayName(this.city!))
              .fontSize(24)
              .fontWeight(FontWeight.Bold)
              .fontColor('#FFFFFF')

            Text(CityHelper.fullLocation(this.city!))
              .fontSize(14)
              .fontColor('#FFFFFFCC')
          }
          .alignItems(HorizontalAlign.Start)
          .layoutWeight(1)

          // è¯„åˆ†
          if (this.city!.overallScore && this.city!.overallScore! > 0) {
            Column({ space: 2 }) {
              Text(this.city!.overallScore!.toFixed(1))
                .fontSize(28)
                .fontWeight(FontWeight.Bold)
                .fontColor('#FFFFFF')
              Text('ç»¼åˆè¯„åˆ†')
                .fontSize(11)
                .fontColor('#FFFFFFBB')
            }
          }
        }
        .width('100%')
        .padding({ left: 16, right: 16, bottom: 16 })
      }
      .width('100%')
      .height('100%')
      .linearGradient({
        direction: GradientDirection.Bottom,
        colors: [['#00000000', 0.0], ['#00000000', 0.4], ['#000000AA', 1.0]],
      })
    }
    .width('100%')
    .height(220)
  }

  // ============================================================
  // æ‘˜è¦å¡ç‰‡ï¼ˆæ¸©åº¦ã€WiFiã€ç±»å‹ã€è´¹ç”¨ç­‰ï¼‰
  // ============================================================
  @Builder
  SummaryCard() {
    Row() {
      this.SummaryItem('ğŸŒ¡ï¸', `${this.city!.temperature ?? '--'}Â°C`, 'æ¸©åº¦')
      Divider().vertical(true).height(36).color(AppColors.DIVIDER)
      this.SummaryItem('ğŸ“¶', this.city!.internetScore?.toFixed(1) ?? '--', 'ç½‘é€Ÿ')
      Divider().vertical(true).height(36).color(AppColors.DIVIDER)
      this.SummaryItem('ğŸ’°', this.city!.costLevel ?? '--', 'æ¶ˆè´¹')
      Divider().vertical(true).height(36).color(AppColors.DIVIDER)
      this.SummaryItem('ğŸ‘¥', `${this.city!.meetupCount ?? 0}`, 'èšä¼š')
    }
    .width('100%')
    .padding({ top: 14, bottom: 14 })
    .margin({ left: 16, right: 16, top: 16 })
    .backgroundColor(AppColors.CARD_BACKGROUND)
    .borderRadius(12)
    .justifyContent(FlexAlign.SpaceEvenly)
    .shadow({ radius: 4, color: '#0000000A', offsetX: 0, offsetY: 2 })
  }

  @Builder
  SummaryItem(icon: string, value: string, label: string) {
    Column({ space: 4 }) {
      Text(icon)
        .fontSize(20)
      Text(value)
        .fontSize(16)
        .fontWeight(FontWeight.Bold)
        .fontColor(AppColors.TEXT_PRIMARY)
      Text(label)
        .fontSize(11)
        .fontColor(AppColors.TEXT_SECONDARY)
    }
    .alignItems(HorizontalAlign.Center)
  }

  // ============================================================
  // AI æ—…è¡Œè®¡åˆ’å…¥å£ï¼ˆå¯¹é½ Flutter åŸå¸‚è¯¦æƒ…é¡µ FAB è¯­ä¹‰ï¼‰
  // ============================================================
  @Builder
  AiTravelPlanEntry() {
    Row({ space: 10 }) {
      Text('âœ¨')
        .fontSize(18)

      Column({ space: 2 }) {
        Text('AI Travel Plan')
          .fontSize(15)
          .fontWeight(FontWeight.Bold)
          .fontColor(AppColors.WHITE)
        Text('åŸºäºä½ çš„åå¥½æ™ºèƒ½ç”Ÿæˆè¡Œç¨‹')
          .fontSize(12)
          .fontColor('#FFFFFFCC')
      }
      .layoutWeight(1)
      .alignItems(HorizontalAlign.Start)

      SymbolGlyph($r('sys.symbol.arrow_right'))
        .fontSize(16)
        .fontColor([AppColors.WHITE])
    }
    .width('100%')
    .padding({ left: 14, right: 14, top: 12, bottom: 12 })
    .margin({ left: 16, right: 16, top: 12 })
    .borderRadius(12)
    .backgroundColor(AppColors.PRIMARY)
    .onClick(() => {
      router.pushUrl({
        url: `pages/${RouteConstants.CREATE_TRAVEL_PLAN}`,
        params: {
          cityId: this.cityId || this.city?.id || '',
          cityName: this.city?.name || this.cityName || '',
        },
      });
    })
  }

  // ============================================================
  // Tab æ 
  // ============================================================
  @Builder
  TabSection() {
    Scroll() {
      Row({ space: 4 }) {
        ForEach(this.tabTitles, (title: string, index: number) => {
          Text(title)
            .fontSize(13)
            .fontColor(this.currentTabIndex === index ? '#FFFFFF' : AppColors.TEXT_SECONDARY)
            .backgroundColor(this.currentTabIndex === index ? AppColors.PRIMARY : '#F1F5F9')
            .borderRadius(16)
            .padding({ left: 14, right: 14, top: 7, bottom: 7 })
            .onClick(() => {
              this.currentTabIndex = index;
            })
        }, (title: string, index: number) => `${title}-${index}`)
      }
      .padding({ left: 16, right: 16 })
    }
    .scrollable(ScrollDirection.Horizontal)
    .scrollBar(BarState.Off)
    .width('100%')
    .margin({ top: 16, bottom: 12 })
  }

  // ============================================================
  // Tab å†…å®¹
  // ============================================================
  @Builder
  TabContent() {
    Column() {
      if (this.currentTabIndex === 0) {
        this.ScoresContent()
      } else if (this.currentTabIndex === 1) {
        this.GuideContent()
      } else if (this.currentTabIndex === 2) {
        this.ProsConsContent()
      } else if (this.currentTabIndex === 3) {
        this.ReviewsContent()
      } else if (this.currentTabIndex === 4) {
        this.CostContent()
      } else if (this.currentTabIndex === 5) {
        this.WeatherContent()
      } else if (this.currentTabIndex === 6) {
        this.PhotosContent()
      } else if (this.currentTabIndex === 7) {
        this.NeighborhoodsContent()
      }
    }
    .width('100%')
    .padding({ left: 16, right: 16 })
  }

  // ============================================================
  // è¯„åˆ† Tab
  // ============================================================
  @Builder
  ScoresContent() {
    Column({ space: 10 }) {
      Text('åŸå¸‚è¯„åˆ†')
        .fontSize(16)
        .fontWeight(FontWeight.Bold)
        .fontColor(AppColors.TEXT_PRIMARY)

      this.ScoreRow('ğŸŒ¡ï¸ æ°”å€™', this.city!.weatherScore)
      this.ScoreRow('ğŸ’° è´¹ç”¨', this.city!.costScore)
      this.ScoreRow('ğŸ“¶ ç½‘ç»œ', this.city!.internetScore)
      this.ScoreRow('ğŸ‰ å¨±ä¹', this.city!.funScore)
      this.ScoreRow('ğŸ›¡ï¸ å®‰å…¨', this.city!.safetyScore)
      this.ScoreRow('ğŸ¥ åŒ»ç–—', this.city!.healthScore)
      this.ScoreRow('ğŸš¶ æ­¥è¡Œ', this.city!.walkabilityScore)
    }
    .padding({ top: 8, bottom: 16 })
  }

  @Builder
  ScoreRow(label: string, score: number | undefined) {
    Row() {
      Text(label)
        .fontSize(14)
        .fontColor(AppColors.TEXT_PRIMARY)
        .width(100)

      Progress({ value: (score ?? 0) * 20, total: 100, type: ProgressType.Linear })
        .layoutWeight(1)
        .style({ strokeWidth: 8 })
        .color(AppColors.PRIMARY)
        .backgroundColor('#E2E8F0')

      Text(score?.toFixed(1) ?? '--')
        .fontSize(14)
        .fontWeight(FontWeight.Medium)
        .fontColor(AppColors.TEXT_PRIMARY)
        .width(40)
        .textAlign(TextAlign.End)
    }
    .width('100%')
    .height(36)
    .alignItems(VerticalAlign.Center)
  }

  // ============================================================
  // æŒ‡å— Tab (AI ç”Ÿæˆï¼‰
  // ============================================================
  @Builder
  GuideContent() {
    Column({ space: 12 }) {
      Text('åŸå¸‚æŒ‡å—')
        .fontSize(16)
        .fontWeight(FontWeight.Bold)
        .fontColor(AppColors.TEXT_PRIMARY)

      if (this.city!.description) {
        Text(this.city!.description!)
          .fontSize(14)
          .lineHeight(22)
          .fontColor(AppColors.TEXT_SECONDARY)
      }

      // AI ç”ŸæˆæŒ‡å—æŒ‰é’®
      Button('ğŸ¤– AI ç”Ÿæˆè¯¦ç»†æŒ‡å—')
        .width('100%')
        .height(44)
        .borderRadius(10)
        .backgroundColor('#F0F9FF')
        .fontColor(AppColors.PRIMARY)
        .fontSize(15)
        .margin({ top: 8 })
        .onClick(() => {
          router.pushUrl({
            url: `pages/${RouteConstants.AI_CHAT}`,
            params: { prompt: `è¯·ä¸ºæˆ‘ä»‹ç» ${this.city!.name} è¿™åº§åŸå¸‚çš„è¯¦ç»†æŒ‡å—` },
          });
        })
    }
    .padding({ top: 8, bottom: 16 })
    .alignItems(HorizontalAlign.Start)
  }

  // ============================================================
  // ä¼˜ç¼ºç‚¹ Tab
  // ============================================================
  @Builder
  ProsConsContent() {
    Column({ space: 12 }) {
      Row() {
        Text('ä¼˜ç¼ºç‚¹')
          .fontSize(16)
          .fontWeight(FontWeight.Bold)
          .fontColor(AppColors.TEXT_PRIMARY)
        Blank()
        Text('+ æ·»åŠ ')
          .fontSize(14)
          .fontColor(AppColors.PRIMARY)
          .onClick(() => {
            router.pushUrl({
              url: `pages/${RouteConstants.ADD_PROS_CONS}`,
              params: { cityId: this.cityId },
            });
          })
      }
      .width('100%')

      Text('æš‚æ— ä¼˜ç¼ºç‚¹æ•°æ®ï¼Œæˆä¸ºç¬¬ä¸€ä¸ªè´¡çŒ®è€…å§ï¼')
        .fontSize(14)
        .fontColor(AppColors.TEXT_TERTIARY)
        .margin({ top: 16 })
    }
    .padding({ top: 8, bottom: 16 })
  }

  // ============================================================
  // è¯„ä»· Tab
  // ============================================================
  @Builder
  ReviewsContent() {
    Column({ space: 12 }) {
      Row() {
        Text('ç”¨æˆ·è¯„ä»·')
          .fontSize(16)
          .fontWeight(FontWeight.Bold)
          .fontColor(AppColors.TEXT_PRIMARY)
        Blank()
        Text('+ å†™è¯„ä»·')
          .fontSize(14)
          .fontColor(AppColors.PRIMARY)
          .onClick(() => {
            router.pushUrl({
              url: `pages/${RouteConstants.ADD_REVIEW}`,
              params: { cityId: this.cityId },
            });
          })
      }
      .width('100%')

      Text('è¿˜æ²¡æœ‰è¯„ä»·ï¼Œå¿«æ¥åˆ†äº«ä½ çš„ä½“éªŒå§ï¼')
        .fontSize(14)
        .fontColor(AppColors.TEXT_TERTIARY)
        .margin({ top: 16 })
    }
    .padding({ top: 8, bottom: 16 })
  }

  // ============================================================
  // è´¹ç”¨ Tab
  // ============================================================
  @Builder
  CostContent() {
    Column({ space: 12 }) {
      Text('ç”Ÿæ´»è´¹ç”¨')
        .fontSize(16)
        .fontWeight(FontWeight.Bold)
        .fontColor(AppColors.TEXT_PRIMARY)

      if (this.city!.costLevel) {
        Text(`æ¶ˆè´¹æ°´å¹³ï¼š${this.city!.costLevel}`)
          .fontSize(14)
          .fontColor(AppColors.TEXT_SECONDARY)
      }

      Text('è¯¦ç»†è´¹ç”¨æ•°æ®åŠ è½½ä¸­...')
        .fontSize(14)
        .fontColor(AppColors.TEXT_TERTIARY)
        .margin({ top: 16 })
    }
    .padding({ top: 8, bottom: 16 })
    .alignItems(HorizontalAlign.Start)
  }

  // ============================================================
  // å¤©æ°” Tab
  // ============================================================
  @Builder
  WeatherContent() {
    Column({ space: 12 }) {
      Text('å¤©æ°”ä¿¡æ¯')
        .fontSize(16)
        .fontWeight(FontWeight.Bold)
        .fontColor(AppColors.TEXT_PRIMARY)

      Row() {
        Column({ space: 4 }) {
          Text(`${this.city!.temperature ?? '--'}Â°C`)
            .fontSize(36)
            .fontWeight(FontWeight.Bold)
            .fontColor(AppColors.TEXT_PRIMARY)
          Text(this.city!.weatherEmoji ?? 'ğŸŒ¤ï¸')
            .fontSize(32)
        }
        .layoutWeight(1)

        Column({ space: 8 }) {
          this.WeatherInfoRow('ğŸ’§ æ¹¿åº¦', `${this.city!.humidity ?? '--'}%`)
          this.WeatherInfoRow('ğŸŒ¬ï¸ ç©ºæ°”', this.city!.airQuality ?? '--')
        }
        .layoutWeight(1)
      }
      .width('100%')
    }
    .padding({ top: 8, bottom: 16 })
    .alignItems(HorizontalAlign.Start)
  }

  @Builder
  WeatherInfoRow(label: string, value: string) {
    Row() {
      Text(label)
        .fontSize(14)
        .fontColor(AppColors.TEXT_SECONDARY)
      Blank()
      Text(value)
        .fontSize(14)
        .fontWeight(FontWeight.Medium)
        .fontColor(AppColors.TEXT_PRIMARY)
    }
    .width('100%')
  }

  // ============================================================
  // ç…§ç‰‡ Tab
  // ============================================================
  @Builder
  PhotosContent() {
    Column({ space: 12 }) {
      Row() {
        Text('åŸå¸‚ç…§ç‰‡')
          .fontSize(16)
          .fontWeight(FontWeight.Bold)
          .fontColor(AppColors.TEXT_PRIMARY)
        Blank()
        Text('+ ä¸Šä¼ ')
          .fontSize(14)
          .fontColor(AppColors.PRIMARY)
      }
      .width('100%')

      Text('æš‚æ— ç…§ç‰‡ï¼Œä¸Šä¼ ç¬¬ä¸€å¼ å§ï¼')
        .fontSize(14)
        .fontColor(AppColors.TEXT_TERTIARY)
        .margin({ top: 16 })
    }
    .padding({ top: 8, bottom: 16 })
  }

  // ============================================================
  // é™„è¿‘ Tab
  // ============================================================
  @Builder
  NeighborhoodsContent() {
    Column({ space: 12 }) {
      Text('é™„è¿‘åŸå¸‚')
        .fontSize(16)
        .fontWeight(FontWeight.Bold)
        .fontColor(AppColors.TEXT_PRIMARY)

      Button('ğŸ¤– AI å‘ç°é™„è¿‘åŸå¸‚')
        .width('100%')
        .height(44)
        .borderRadius(10)
        .backgroundColor('#F0F9FF')
        .fontColor(AppColors.PRIMARY)
        .fontSize(15)
        .onClick(() => {
          router.pushUrl({
            url: `pages/${RouteConstants.AI_CHAT}`,
            params: {
              cityId: this.cityId,
              cityName: this.cityName || this.city?.name || '',
              prompt: `è¯·æ¨è ${this.cityName || this.city?.name || 'å½“å‰åŸå¸‚'} å‘¨è¾¹é€‚åˆæ•°å­—æ¸¸æ°‘çš„åŸå¸‚ï¼Œå¹¶ç»™å‡ºç®€è¦åŸå› ã€‚`,
            },
          });
        })
    }
    .padding({ top: 8, bottom: 16 })
    .alignItems(HorizontalAlign.Start)
  }
}
